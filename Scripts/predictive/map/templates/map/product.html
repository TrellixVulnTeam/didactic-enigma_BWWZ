{% load static %}
<!DOCTYPE html>

<html>
<head>
   <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Summer Games</title>

    <!-- Bootstrap core CSS -->
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link rel="stylesheet" href="{% static 'vendor/font-awesome/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/simple-line-icons/css/simple-line-icons.css' %}">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    

    <!-- Custom styles for this template -->
    <link href="{% static 'css/new-age.min.css' %}" rel="stylesheet">
    <!--<link rel="stylesheet" href="{% static 'css/loading.css' %}">-->
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    
 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.js"></script>
    



    <script type = "text/javascript">    
        function openNav(currentElement) {
            var name = $(currentElement).html();
            $.ajax({
                    url : "/map/data/", 
                    data : {'direction':name},
                    <!--dataType : 'html',-->
                    success : function (data) {
                        $('#mySidenav').empty().append(data);
                    }            
            })
        };
        
        
     


    </script>

   





</head>

<!-- Loop through the points *still have to figure out how to host this-->
<body background-color= "#C0C0C0">
<nav class="navbar fixed-top navbar-toggleable-md navbar-light" id="mainNav">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarExample" aria-controls="navbarExample" aria-expanded="false" aria-label="Toggle navigation">
            Menu <i class="fa fa-bars"></i>
        </button>
        <div class="container">
            <a class="navbar-brand" id= "home" href="/map/" >MapView By Predictive26</a>
            <div class="collapse navbar-collapse" id="navbarExample">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/map/#download">Our Story</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/map/#features">Features</a>
                    </li>
                     <li class="nav-item">
                        <a class="nav-link" href="/map/#about">Team</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/map/#contact">Social Media</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

<!--
<div id="overlay">
 <div class="sk-folding-cube">
        <div class="sk-cube1 sk-cube"></div>
        <div class="sk-cube2 sk-cube"></div>
        <div class="sk-cube4 sk-cube"></div>
        <div class="sk-cube3 sk-cube"></div>
        </div>
        <img src="{% static '/img/logo.png' %}"> </div>
</div>
-->
  

<!--{% include "map/sidebar.html" %}-->
<div id=sidebar>
    <div id="mySidenav" class="sidenav">
    </div>
</div>





<hr>
<!--
<div width="200px">
<input type="range" min="0" max="100"></input>
</div>
<h3>My Google Maps Demo</h3>
<form id=dateForm>
    Exact Date:
    <input type="date" name="filter-date" id="dateGrab">
    Start Date:
    <input type="date" name="start">
    End Date:
    <input type="date" name="end">
    <button type="button" onclick="DateSelect(this.form, this.form.filter-date)">Submit</button>
</form>
-->
<head>
<meta charset="utf-8">
<hr>
<style>
  html, body, #map {
    padding: 0;
    margin: 0;
    height: 100%;
    width: 100%;
  }
</style>
<link rel="stylesheet" href="https://js.arcgis.com/4.4/esri/css/main.css">

</head>
<body>
  <div id="map"></div>
</body>



</body>

 <!-- Bootstrap core JavaScript -->
    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/tether/tether.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>

    <!-- Plugin JavaScript -->
    <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>
  

    <!-- Custom scripts for this template -->
    <script src="{% static 'js/product.js' %}"></script>
    <script src="{% static 'js/new-age.min.js' %}"></script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-uAlwABgf0eRzXK9duURPQyye0zhEreg&callback=initMap"></script>
    <script>
    function initMap() {        
        var center = {lat: 8.612690, lng: -11.759313};
            
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 8,
            center: center,
            disableDefaultUI: true,
            mapTypeId: google.maps.MapTypeId.HYBRID
          });


        var points = [
        {% for district in districts %}
            {lat: {{district.latitude}}, lng: {{district.longitude}} },
        {% endfor %}
        ];
    
        var markerDict = [];
        
        for (i = 0; i < points.length; i++){
            var mark = points[i];
            markerDict.push({
                key: i,
                value: mark
            });
            var marker = new google.maps.Marker({
                animation: google.maps.Animation.DROP,
                position: mark,
                map: map,
            });
            google.maps.event.addDomListener(marker, 'click', function() {
                map.setCenter(this.getPosition());
                $.ajax({
                      url : "/map/marker/",
                      data : {"lat" : this.getPosition().lat(), "lng" : this.getPosition().lng(), "date" : "2014-09-18"},
                      dataType : 'html',
                      success : function (data) {
                          $("#mySidenav").empty().append(data);
                      }
                });
            });
        };
    }
    </script>
  
</html>